


# Chapter 4. Stack

## 4.1 스택이란?

### 스택은 후입선출(Last-In First Out : LIFO)의 자료구조이다.

스택은 주방의 접시더미를 생각하면 쉽게 이해할 수 있다. 접시를 닦는 사람은 닦은 접시를 항상 접시더미의 맨 위에 올려놓는다. 요리사는 요리를 담을 새 접시가 필요하면 항상 맨 위에 있는 접시를 꺼내 음식을 담아 손님들에게 제공한다. 물론 더미의 중간에 있는 접시를 빼서 사용할 수도 있지만 이것은 매우 조심스럽고 번거로운 작업이 될 것이다.





**스택(Stack)**은 이와 같이 자료의 입출력이 **후입선출(LIFO : Last-In First-Out)**의 형태로 일어나는 자료구조를 말한다. 예를 들어, 스택에 A, B, C, D를 순서대로 입력했다면 꺼낼 때는 D, C, B, A로만 꺼낼 수 있다. 이것은 리스트에서 항목 접근을 위한 다른 통로들은 모두 막고 **후단**만을 열어둔 구조와 같다. 열린 곳을 보통 **스택 상단(Top)**이라 부른다. 그림과 같이 삽입과 삭제는 상단으로만 할 수 있고, 스택의 중간에는 항목을 삽입하거나 삭제할 수 없다. 따라서 연산도 매우 간단해진다.

[그림 4.1] 스택의 구조와 일련의 연산들



### 스택의 추상자료형

스택에는 어떤 것들을 저장할 수 있을까? 숫자나 문자열은 물론이고 복잡한 클래스의 객체나 심지어 여러개의 항목을 가진 리스트 등 어떤 자료든지 저장할 수 있다. 그러면 스택은 어떤 기능을 가져야 할까? 접시를 보관하는 접시함을 이용해 스택으로 무엇을 할 수 있는지 생각해보자. 다음은 접시함의 기본기능이다.

* 보관함이 비어있는지 살핀다(**isEmpty**) --> 스택이 비어있는지 살핀다.
* 접시를 보관함에 넣는다(**push**) --> 새로운 항목을 스택에 삽입한다.
* 접시 하나를 꺼낸다(**pop**) --> 스택에서 하나의 항목을 꺼내온다.

만약 접시함이 최신 고급모델이라면 다양한 고급기능들도 제공할 것이다.

* 보관함의 현재 접시 개수를 알려준다(**size**)
* 접시를 꺼내지 않고 맨 위의 접시가 무엇인지 알려준다(**peek**)
* 보관함을 깨끗이 비운다(**clear**)

고급기능들은 스택의 필수기능이라고 보기는 어려운데, 기본 연산들을 조합해서 구현할 수 있기 때문이다. clear 기능은 모든 접시를 꺼내면(pop) 되고, peek 기능은 pop으로 접시 하나를 꺼내서 확인한 후 다시 스택에 push하면 된다.

입출력에 제한을 가함에 따라 리스트에 비해 연산들이 매우 간단해지는 것에 유의하라. 이제, 스택을 추상자료형으로 정의하자. 앞에서 생각한 연산들에 이름을 붙이고 동작을 조금 더 구체적으로 설명하면 된다.


정의 4.1 Stack ADT

* 데이터 : 후입선출(LIFO)의 접근방법을 유지하는 항목들의 모음
* 연산
    - Stack() : 비어있는 새로운 스택을 만든다.
    - isEmpty() : 스택이 비어있으면 True를 아니면 False를 반환한다.
    - push(e) : 항목 e를 스택의 맨 위에 추가한다.
    - pop() : 스택의 맨 위에 있는 항목을 꺼내 반환한다.
    - peek() : 스택의 맨 위에 있는 항목을 삭제하지 않고 반환한다.
    - size() : 스택 내의 모든 항목들의 개수를 반환한다.
    - clear() : 스택을 공백상태로 만든다.


### 스택은 어디에 사용할까?

스택은 특히 자료의 출력순서가 입력의 역순으로 이루어져야 할 경우에 매우 긴요하게 사용된다.

* 문서나 그림, 수식 등의 편집기에서 **되돌리기(Undo)** 기능을 구현할 때 스택이 사용된다. 되돌리기는 지금까지 실행된 명령어 중에서 가장 최근 것부터 순서대로 취소해야 하기 때문이다. 웹 브라우저의 "**이전 페이지로 이동**" 기능도 마찬가지이다. 가장 최근에 본 페이지로 이동해야 한다. 지금까지 본 페이지 정보를 스택에 저장해야 한다.




* **함수 호출에서 복귀주소**를 기억하는데 스택을 사용한다. C언어로 구현된 다음 코드를 보자. main()에서 함수 a()를 호출하고 a()에서 다시 b()와 c()를 연속적으로 호출하였다. c()가 종료되면 이를 호출한 함수인 b()로 돌아가야 한다. 이러한 복잡한 함수의 호출과 반환을 위해 운영체제는 시스템 스택을 사용한다. **시스템 스택**에는 현재 실행되고 있는 함수가 종료되면 돌아갈 문장의 주소(Program Counter)와 함수 호출시 매개변수나 함수 안에서 선언된 지역변수와 같은 정보들이 저장되어 다시 되돌아갔을 때 이전 상태를 유지할 수 있도록 한다.




* 문서나 소스코드에서 **괄호 닫기**가 정상적으로 되었는지를 검사하는 프로그램에서도 스택을 사용한다. 또한 **계산기 프로그램**에서 입력된 수식을 계산하는 과정에도 스택이 사용된다. 미로에서 출구를 찾기 위해서도 스택을 사용할 수 있다. 이들은 응용 예제를 통해 더 자세히 공부한다.



이 외에도 스택을 사용하는 응용은 매우 다양하므로 잘 이해해야 한다.

스택을 구현하는 방법을 살펴보자. 3장의 리스트에서와 같이 기본적으로 **배열구조와 연결된 구조**로 구현할 수 있다. 물론 각 방법은 장단점을 갖는다. 이 장에서는 파이썬의 리스트를 이용한 배열구조로 구현하는 방법을 공부하고, 연결된 구조는 6장에서 공부한다.





## 4.2 스택의 구현

(오늘은 여기까지!! 내일부터 다시 시작!!)





















